<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Gestão de Doações</title>
    <meta name="description" content="Faça a diferença - realize doações ou crie sua própria campanha">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: "#f0fdf4",
                            100: "#dcfce7",
                            500: "#22c55e",
                            600: "#16a34a",
                            700: "#15803d"
                        },
                        gray: {
                            50: "#f9fafb",
                            100: "#f3f4f6",
                            200: "#e5e7eb",
                            300: "#d1d5db",
                            400: "#9ca3af",
                            500: "#6b7280",
                            600: "#4b5563",
                            700: "#374151",
                            800: "#1f2937",
                            900: "#111827"
                        }
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "sans-serif"]
                    }
                }
            }
        }
    </script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
        
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-hands-helping text-white"></i>
                    </div>
                    <span class="text-xl font-bold text-gray-800">Gestão de Doações</span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-primary-600 text-sm"></i>
                        </div>
                        <span class="text-sm font-medium text-gray-700" id="userName">Carregando...</span>
                    </div>
                    <button class="text-gray-500 hover:text-gray-700 transition-colors">
                        <i class="fas fa-bell"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Welcome Section -->
        <section class="mb-12">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Olá, <span id="userNameDisplay">Usuário</span>!</h1>
                <p class="text-lg text-gray-600">Como você gostaria de fazer a diferença hoje?</p>
            </div>

            <!-- Action Buttons -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                <!-- Doar Button -->
                <div class="bg-white rounded-2xl p-8 card-shadow text-center hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-primary-100">
                    <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-heart text-primary-500 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Realizar Doação</h3>
                    <p class="text-gray-600 mb-6">
                        Ajude campanhas existentes e faça a diferença na vida de quem precisa
                    </p>
                    <button class="w-full bg-primary-500 text-white py-3 px-6 rounded-lg hover:bg-primary-600 transition-colors font-medium">
                        Doar Agora
                    </button>
                </div>

                <!-- Criar Campanha Button -->
                <div class="bg-white rounded-2xl p-8 card-shadow text-center hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-primary-100">
                    <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bullhorn text-primary-500 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Criar Campanha</h3>
                    <p class="text-gray-600 mb-6">
                        Crie sua própria campanha e mobilize pessoas para sua causa
                    </p>
                    <button class="w-full bg-white text-primary-500 border-2 border-primary-500 py-3 px-6 rounded-lg hover:bg-primary-50 transition-colors font-medium">
                        Criar Campanha
                    </button>
                </div>
            </div>
        </section>

        <!-- Recommended Campaigns -->
        <section>
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Campanhas Recomendadas</h2>
                <button class="text-primary-500 hover:text-primary-600 font-medium flex items-center space-x-2">
                    <span>Ver todas</span>
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="campaignsContainer">
                <!-- Campaign cards will be generated here -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-hands-helping text-white"></i>
                        </div>
                        <span class="text-lg font-bold text-gray-800">Gestão de Doações</span>
                    </div>
                    <p class="text-gray-600 text-sm">
                        Conectando doadores a quem mais precisa através da solidariedade.
                    </p>
                </div>
                
                <div>
                    <h3 class="font-semibold text-gray-800 mb-4">Links Rápidos</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Início</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Organizações</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Como Funciona</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-semibold text-gray-800 mb-4">Suporte</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Ajuda</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Contato</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-semibold text-gray-800 mb-4">Legal</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Termos de Uso</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-primary-500 text-sm transition-colors">Política de Privacidade</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-200 mt-8 pt-6 text-center">
                <p class="text-sm text-gray-600">
                    &copy; 2024 Gestão de Doações. Todos os direitos reservados.
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data - in a real app, this would come from an API
        const userData = {
            "id": 1,
            "nome_completo": "Maria Silva Santos",
            "email": "maria.silva@email.com"
        };

        const recommendedCampaigns = [
            {
                "id": 1,
                "nome": "Alimentação para Famílias Carentes",
                "descricao": "Ajude a fornecer cestas básicas para famílias em situação de vulnerabilidade social na região metropolitana.",
                "quantia_total": 50000,
                "quantia_arrecadada": 32500,
                "id_criador": 2,
                "nome_criador": "ONG Esperança Viva",
                "categoria": "Alimentação",
                "data_fim": "2024-12-31"
            },
            {
                "id": 2,
                "nome": "Educação Infantil no Sertão",
                "descricao": "Construção de uma escola e fornecimento de material escolar para crianças do sertão nordestino.",
                "quantia_total": 120000,
                "quantia_arrecadada": 78000,
                "id_criador": 3,
                "nome_criador": "Fundação Educação para Todos",
                "categoria": "Educação",
                "data_fim": "2024-11-15"
            },
            {
                "id": 3,
                "nome": "Abrigo para Animais de Rua",
                "descricao": "Ampliação do abrigo municipal para acolher mais animais abandonados e proporcionar cuidados veterinários.",
                "quantia_total": 35000,
                "quantia_arrecadada": 12500,
                "id_criador": 4,
                "nome_criador": "Proteção Animal Brasil",
                "categoria": "Animais",
                "data_fim": "2024-10-30"
            },
            {
                "id": 4,
                "nome": "Kit Higiene para Idosos",
                "descricao": "Distribuição de kits de higiene pessoal para idosos em asilos e comunidades carentes.",
                "quantia_total": 25000,
                "quantia_arrecadada": 8500,
                "id_criador": 5,
                "nome_criador": "Associação Viver com Dignidade",
                "categoria": "Saúde",
                "data_fim": "2024-09-20"
            },
            {
                "id": 5,
                "nome": "Reflorestamento Urbano",
                "descricao": "Plantio de árvores nativas em áreas urbanas degradadas para melhorar a qualidade do ar.",
                "quantia_total": 45000,
                "quantia_arrecadada": 28900,
                "id_criador": 6,
                "nome_criador": "Green City Initiative",
                "categoria": "Meio Ambiente",
                "data_fim": "2024-12-01"
            },
            {
                "id": 6,
                "nome": "Apoio a Pequenos Empreendedores",
                "descricao": "Microcrédito e capacitação para pequenos empreendedores de comunidades carentes.",
                "quantia_total": 80000,
                "quantia_arrecadada": 45200,
                "id_criador": 7,
                "nome_criador": "Instituto Empreender Juntos",
                "categoria": "Empreendedorismo",
                "data_fim": "2024-11-10"
            }
        ];

        // Utility functions
        function formatCurrency(value) {
            return new Intl.NumberFormat("pt-BR", {
                style: "currency",
                currency: "BRL"
            }).format(value);
        }

        function calculateProgressPercentage(arrecadado, total) {
            return Math.min(Math.round((arrecadado / total) * 100), 100);
        }

        function formatDate(dateString) {
            const options = { day: "numeric", month: "long", year: "numeric" };
            return new Date(dateString).toLocaleDateString("pt-BR", options);
        }

        // DOM manipulation functions
        function updateUserName() {
            const userNameElements = document.querySelectorAll("#userName, #userNameDisplay");
            userNameElements.forEach(element => {
                element.textContent = userData.nome_completo;
            });
        }

        function createCampaignCard(campaign) {
            const progressPercentage = calculateProgressPercentage(campaign.quantia_arrecadada, campaign.quantia_total);
            
            return `
                <div class="bg-white rounded-2xl overflow-hidden card-shadow hover:shadow-lg transition-shadow">
                    <div class="relative">
                        <img 
                            src="https://picsum.photos/400/200?random=${campaign.id}" 
                            alt="${campaign.nome}"
                            class="w-full h-48 object-cover"
                            loading="lazy"
                        >
                        <div class="absolute top-4 right-4">
                            <span class="bg-primary-500 text-white text-xs px-3 py-1 rounded-full font-medium">
                                ${campaign.categoria}
                            </span>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-2 line-clamp-2">${campaign.nome}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-2">${campaign.descricao}</p>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-sm text-gray-600 mb-2">
                                <span>Arrecadado</span>
                                <span>${formatCurrency(campaign.quantia_arrecadada)} de ${formatCurrency(campaign.quantia_total)}</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: ${progressPercentage}%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>${progressPercentage}% concluído</span>
                                <span>Termina em ${formatDate(campaign.data_fim)}</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <div class="w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-user text-primary-500 text-xs"></i>
                                </div>
                                <span class="text-sm text-gray-600">${campaign.nome_criador}</span>
                            </div>
                            <button class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors text-sm font-medium donate-btn" data-campaign-id="${campaign.id}">
                                Doar
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCampaigns() {
            const container = document.getElementById("campaignsContainer");
            container.innerHTML = recommendedCampaigns.map(campaign => createCampaignCard(campaign)).join("");
        }

        function initializeEventListeners() {
            // Action buttons
            const doarBtn = document.querySelector(".bg-primary-500");
            const criarCampanhaBtn = document.querySelector(".bg-white.border-primary-500");
            
            doarBtn.addEventListener("click", function() {
                alert("Redirecionando para página de doações...");
                // In a real app: window.location.href = "/doar";
            });
            
            criarCampanhaBtn.addEventListener("click", function() {
                alert("Redirecionando para criação de campanha...");
                // In a real app: window.location.href = "/criar-campanha";
            });
            
            // Donate buttons on campaign cards
            document.addEventListener("click", function(e) {
                if (e.target.classList.contains("donate-btn")) {
                    const campaignId = e.target.getAttribute("data-campaign-id");
                    const campaign = recommendedCampaigns.find(c => c.id == campaignId);
                    alert(`Redirecionando para doação para: ${campaign.nome}`);
                    // In a real app: window.location.href = `/doar/${campaignId}`;
                }
            });
            
            // Navigation links
            const links = document.querySelectorAll("a");
            links.forEach(link => {
                link.addEventListener("click", function(e) {
                    if (this.getAttribute("href") === "#") {
                        e.preventDefault();
                        const linkText = this.textContent.trim();
                        alert(`Navegando para: ${linkText}`);
                    }
                });
            });
        }

        // Initialize the page
        document.addEventListener("DOMContentLoaded", function() {
            updateUserName();
            renderCampaigns();
            initializeEventListeners();
        });
    </script>
</body>
</html>
